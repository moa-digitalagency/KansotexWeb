{% extends "admin/base.html" %}

{% block title %}Paramètres SEO{% endblock %}

{% block content %}
<div class="mb-8">
    <h2 class="text-3xl font-bold mb-2 text-accent">Paramètres SEO</h2>
    <p class="text-gray-400">Optimisez le référencement de votre site web</p>
</div>

<form method="POST" class="space-y-8">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    
    <!-- Méta Tags Basiques -->
    <div class="bg-gray-800 rounded-lg p-6">
        <h3 class="text-xl font-bold mb-4 text-accent">
            <i class="fas fa-search mr-2"></i>Méta Tags Basiques
        </h3>
        
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium mb-2">Titre de la page (Meta Title)</label>
                <input type="text" 
                       name="meta_title" 
                       value="{{ seo_settings.meta_title }}"
                       class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none"
                       placeholder="KANSOTEX - Expert en Textiles de Qualité Premium">
                <p class="text-xs text-gray-500 mt-1">Longueur recommandée: 50-60 caractères</p>
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-2">Description (Meta Description)</label>
                <textarea name="meta_description" 
                          rows="3"
                          class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none"
                          placeholder="Expert en textiles de qualité premium depuis 2005...">{{ seo_settings.meta_description }}</textarea>
                <p class="text-xs text-gray-500 mt-1">Longueur recommandée: 150-160 caractères</p>
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-2">Mots-clés (Meta Keywords)</label>
                <textarea name="meta_keywords" 
                          rows="2"
                          class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none"
                          placeholder="textiles premium, linge hôtelier, textiles médicaux...">{{ seo_settings.meta_keywords }}</textarea>
                <p class="text-xs text-gray-500 mt-1">Séparez les mots-clés par des virgules</p>
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-2">Auteur</label>
                <input type="text" 
                       name="meta_author" 
                       value="{{ seo_settings.meta_author }}"
                       class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none"
                       placeholder="KANSOTEX">
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-2">URL Canonique</label>
                <input type="text" 
                       name="canonical_url" 
                       value="{{ seo_settings.canonical_url }}"
                       class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none"
                       placeholder="https://www.kansotex.com">
                <p class="text-xs text-gray-500 mt-1">URL principale de votre site (évite le contenu dupliqué)</p>
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-2">Robots Meta Tag</label>
                <select name="meta_robots" 
                        class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none">
                    <option value="index, follow" {% if seo_settings.meta_robots == 'index, follow' %}selected{% endif %}>Index, Follow (Recommandé)</option>
                    <option value="noindex, follow" {% if seo_settings.meta_robots == 'noindex, follow' %}selected{% endif %}>No Index, Follow</option>
                    <option value="index, nofollow" {% if seo_settings.meta_robots == 'index, nofollow' %}selected{% endif %}>Index, No Follow</option>
                    <option value="noindex, nofollow" {% if seo_settings.meta_robots == 'noindex, nofollow' %}selected{% endif %}>No Index, No Follow</option>
                </select>
                <p class="text-xs text-gray-500 mt-1">Contrôle l'indexation par les moteurs de recherche</p>
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-2">Favicon (URL)</label>
                <input type="text" 
                       name="favicon_url" 
                       value="{{ seo_settings.favicon_url }}"
                       class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none"
                       placeholder="/static/images/favicon.ico">
                <p class="text-xs text-gray-500 mt-1">Icône affichée dans l'onglet du navigateur (format .ico, .png ou .svg)</p>
            </div>
        </div>
    </div>
    
    <!-- Données Structurées (JSON-LD) -->
    <div class="bg-gray-800 rounded-lg p-6">
        <h3 class="text-xl font-bold mb-4 text-accent">
            <i class="fas fa-code mr-2"></i>Données Structurées (JSON-LD)
        </h3>
        
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium mb-2">Type d'Organisation</label>
                <select name="schema_type" 
                        class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none">
                    <option value="Organization" {% if seo_settings.schema_type == 'Organization' %}selected{% endif %}>Organization</option>
                    <option value="LocalBusiness" {% if seo_settings.schema_type == 'LocalBusiness' %}selected{% endif %}>Local Business</option>
                    <option value="Corporation" {% if seo_settings.schema_type == 'Corporation' %}selected{% endif %}>Corporation</option>
                </select>
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-2">Nom de l'Entreprise</label>
                <input type="text" 
                       name="schema_name" 
                       value="{{ seo_settings.schema_name }}"
                       class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none"
                       placeholder="KANSOTEX">
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-2">Description de l'Entreprise</label>
                <textarea name="schema_description" 
                          rows="2"
                          class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none"
                          placeholder="Expert en textiles de qualité premium depuis 2005">{{ seo_settings.schema_description }}</textarea>
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-2">Logo de l'Entreprise (URL)</label>
                <input type="text" 
                       name="schema_logo" 
                       value="{{ seo_settings.schema_logo }}"
                       class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none"
                       placeholder="/static/images/logo.png">
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-2">URL du Site Web</label>
                <input type="text" 
                       name="schema_url" 
                       value="{{ seo_settings.schema_url }}"
                       class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none"
                       placeholder="https://www.kansotex.com">
            </div>
        </div>
    </div>
    
    <!-- Open Graph (Facebook) -->
    <div class="bg-gray-800 rounded-lg p-6">
        <h3 class="text-xl font-bold mb-4 text-accent">
            <i class="fab fa-facebook mr-2"></i>Open Graph (Facebook)
        </h3>
        
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium mb-2">Titre OG</label>
                <input type="text" 
                       name="og_title" 
                       value="{{ seo_settings.og_title }}"
                       class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none"
                       placeholder="KANSOTEX - Expert en Textiles">
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-2">Description OG</label>
                <textarea name="og_description" 
                          rows="3"
                          class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none"
                          placeholder="Découvrez notre collection...">{{ seo_settings.og_description }}</textarea>
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-2">Image OG (URL)</label>
                <input type="text" 
                       name="og_image" 
                       value="{{ seo_settings.og_image }}"
                       class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none"
                       placeholder="https://votre-site.com/image-og.jpg">
                <p class="text-xs text-gray-500 mt-1">Taille recommandée: 1200x630 pixels</p>
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-2">Type OG</label>
                <select name="og_type" 
                        class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none">
                    <option value="website" {% if seo_settings.og_type == 'website' %}selected{% endif %}>Website</option>
                    <option value="article" {% if seo_settings.og_type == 'article' %}selected{% endif %}>Article</option>
                    <option value="business.business" {% if seo_settings.og_type == 'business.business' %}selected{% endif %}>Business</option>
                </select>
            </div>
        </div>
    </div>
    
    <!-- Twitter Card -->
    <div class="bg-gray-800 rounded-lg p-6">
        <h3 class="text-xl font-bold mb-4 text-accent">
            <i class="fab fa-twitter mr-2"></i>Twitter Card
        </h3>
        
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium mb-2">Type de carte</label>
                <select name="twitter_card" 
                        class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none">
                    <option value="summary" {% if seo_settings.twitter_card == 'summary' %}selected{% endif %}>Summary</option>
                    <option value="summary_large_image" {% if seo_settings.twitter_card == 'summary_large_image' %}selected{% endif %}>Summary Large Image</option>
                </select>
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-2">Titre Twitter</label>
                <input type="text" 
                       name="twitter_title" 
                       value="{{ seo_settings.twitter_title }}"
                       class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none"
                       placeholder="KANSOTEX - Expert en Textiles">
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-2">Description Twitter</label>
                <textarea name="twitter_description" 
                          rows="3"
                          class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none"
                          placeholder="Découvrez notre collection...">{{ seo_settings.twitter_description }}</textarea>
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-2">Image Twitter (URL)</label>
                <input type="text" 
                       name="twitter_image" 
                       value="{{ seo_settings.twitter_image }}"
                       class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none"
                       placeholder="https://votre-site.com/image-twitter.jpg">
                <p class="text-xs text-gray-500 mt-1">Taille recommandée: 1200x628 pixels</p>
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-2">Compte Twitter (optionnel)</label>
                <input type="text" 
                       name="twitter_site" 
                       value="{{ seo_settings.twitter_site }}"
                       class="w-full px-4 py-2 bg-gray-700 rounded border border-gray-600 ring-accent focus:outline-none"
                       placeholder="@kansotex">
            </div>
        </div>
    </div>
    
    <div class="flex justify-end space-x-4">
        <a href="{{ url_for('admin.dashboard') }}" 
           class="px-6 py-2 bg-gray-700 rounded hover:bg-gray-600 transition">
            Annuler
        </a>
        <button type="submit" 
                class="px-6 py-2 rounded transition"
                class="bg-accent-gradient">
            <i class="fas fa-save mr-2"></i>Enregistrer les paramètres SEO
        </button>
    </div>
</form>
{% endblock %}
